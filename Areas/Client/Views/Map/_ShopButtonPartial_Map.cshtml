@model Semester03.Areas.Client.Models.ViewModels.TenantPositionDto

@{
    var css = (Model?.TenantPosition_Status == 1)
        ? "shop-unit unit-occupied"
        : "shop-unit unit-vacant";

    var label = string.IsNullOrWhiteSpace(Model?.TenantPosition_Location)
        ? "Unit"
        : Model.TenantPosition_Location;

    var areaText = Model?.TenantPosition_Area_M2.ToString("0.#") + " m²";
    var idAttr = Model?.TenantPosition_ID.ToString() ?? "0";

    string tenantImg = null;
    if (Model?.Tenant != null && !string.IsNullOrWhiteSpace(Model.Tenant.Tenant_Img))
    {
        tenantImg = Model.Tenant.Tenant_Img;
        if (tenantImg.StartsWith("wwwroot/"))
            tenantImg = "/" + tenantImg.Substring("wwwroot/".Length);
    }

    var detailsUrl = Url.Action("Details", "Map", new { area = "Client", id = Model?.TenantPosition_ID });
}

<a href="@detailsUrl"
   class="@css"
   title="@label"
   data-id="@idAttr"
   data-left="@(Model?.TenantPosition_LeftPct)"
   data-top="@(Model?.TenantPosition_TopPct)"
   data-status="@(Model?.TenantPosition_Status)">
    <div style="display:flex;align-items:center;gap:8px;width:100%;justify-content:center;">
        @if (!string.IsNullOrEmpty(tenantImg))
        {
            <div style="flex:0 0 36px;height:36px;overflow:hidden;border-radius:6px;background:#f3f4f6;display:flex;align-items:center;justify-content:center;">
                <img src="@tenantImg" alt="@label" style="max-width:100%;max-height:100%;display:block;" />
            </div>
        }

        <div style="flex:1;min-width:0;">
            <div class="tenant-name"
                 style="line-height:1.05;font-weight:700;color:#111827;font-size:.85rem;">
                @label
            </div>
            <div class="tenant-meta" style="font-size:.75rem;color:#6b7280;">
                @areaText
            </div>
        </div>
    </div>
</a>
